function Lightue(a,b={}){function c(a,b,c){Object.defineProperty(a,b,{value:c,enumerable:!1,writable:!0,configurable:!0})}function d(a){return a.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function e(...a){Array.prototype.push.apply(this,a),a.forEach((a,b)=>{var c=new f(a,this.$node,d(this.$node.key)+"-item",this.length+b);c.render(),this.$node.el.appendChild(c.el),this.$node.childNodes.push(c)})}function f(a,b=null,c="",d=0){("object"!=typeof a||Array.isArray(a))&&(a={$inner:a}),this.parent=b,this.ndata=a,a.$node=this,this.key=c,this.index=d,this.childNodes=[],this.classes=new Set,this.create()}f.prototype.create=function(){for(var a in this.el=document.createElement(this.ndata.$tag||"div"),this.ndata){var b=this.ndata[a];if(a.startsWith("$"))"$inner"==a&&Array.isArray(b)&&(this.childNodes=b.map((a,b)=>{var c=new f(a,this,d(this.key)+"-item",b);return this.el.appendChild(c.el),c}),c(b,"$node",this),c(b,"push",e));else if(a.startsWith("_"));else if(a.startsWith("on"))(b=>{this.el.addEventListener(a.slice(2),a=>{var c=Object.create(a);c.$data=this.ndata,c.$node=this,c.$index=this.index,c.$argus=b.slice(1),b[0](c)})})(b);else{var g=new f(b,this,d(a));this.el.appendChild(g.el),this.childNodes.push(g)}}},f.prototype.render=function(){for(var a in this.el.className="",this.classes.clear(),this.ndata){var b=this.ndata[a];if(!a.startsWith("$"))a.startsWith("_")&&this.el.setAttribute(d(a.slice(1)),b);else if("$inner"==a)"string"==typeof b&&(this.el.textContent=b);else if("$class"==a)if(Array.isArray(b))this.classes=new Set(b);else if(b instanceof Set)this.classes=b;else for(var c in b)b[c]&&this.classes.add(d(c))}this.key&&this.classes.add(this.key),this.classes.forEach(a=>this.el.classList.add(a)),this.childNodes.forEach(a=>a.render())},this.root=new f(a,null,"root"),this.root.render(),this.data=a,b.created&&b.created(),document.querySelector(b.el||"body").appendChild(this.root.el),b.mounted&&b.mounted()}