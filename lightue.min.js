function Lightue(e,t){function s(e,t,s){Object.defineProperty(e,t,{value:s,enumerable:!1,writable:!0,configurable:!0})}function i(e){return e.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function n(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments),t=this.length;for(var s in Array.prototype.push.apply(this,e),e){e[s];var n=new r(this,t+s,this.$node,i(this.$node.key)+"-item",this.length+s);n.render(),this.$node.el.appendChild(n.el),this.$node.childNodes.push(n)}}function r(e,t,a,h,l){var d=e[t],o=this;for(var c in"object"==typeof d&&null!=d&&(s(d,"$node",this),s(d,"$render",this.render.bind(this))),Object.defineProperty(this,"ndata",{get:function(){return("object"!=typeof(d=e[t])||Array.isArray(d))&&(d={$inner:d}),d}}),this.parent=a,this.key=h||"",this.index=l||-1,this.childNodes=[],this.classes=[],this.el=document.createElement(this.ndata.$tag||"div"),this.ndata){var u=this.ndata[c];if(c.startsWith("$"))"$inner"==c&&Array.isArray(u)&&(this.childNodes=u.map((function(e,t){var s=new r(u,t,o,i(o.key)+"-item",t);return o.el.appendChild(s.el),s})),s(u,"push",n));else if(c.startsWith("_"));else if(c.startsWith("on"))!function(e){o.el.addEventListener(c.slice(2),(function(t){var s=Object.create(t);s.$data=o.ndata,s.$node=o,s.$render=o.render.bind(o),s.$index=o.index,s.$argus=e.slice(1),e[0](s)}))}(u);else{var p=new r(this.ndata,c,this,i(c));this.el.appendChild(p.el),this.childNodes.push(p)}}}t=t||{},r.prototype.render=function(){for(var e in this.el.className="",this.classes=[],this.ndata){var t=this.ndata[e];if(e.startsWith("$")){if("$inner"==e)"string"==typeof t&&(this.el.textContent=t);else if("$class"==e)if(Array.isArray(t))this.classes=t;else for(var s in t)t[s]&&this.classes.push(i(s))}else e.startsWith("_")&&this.el.setAttribute(i(e.slice(1)),t)}for(var e in this.key&&this.classes.push(this.key),this.classes)this.el.classList.add(this.classes[e]);for(var e in this.childNodes)this.childNodes[e].render()};var a=new r({data:e},"data",null,"root");return a.render(),document.querySelector(t.el||"body").appendChild(a.el),e}