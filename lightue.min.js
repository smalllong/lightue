function Lightue(e,t){function s(e,t,s){Object.defineProperty(e,t,{value:s,enumerable:!1,writable:!0,configurable:!0})}function i(e){return e.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function n(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments),t=this.length;for(var s in Array.prototype.push.apply(this,e),e){var n=new r(this,t+s,this.$node,i(this.$node.key)+"-item",this.length+s);n.render(),this.$node.el.appendChild(n.el),this.$node.childNodes.push(n)}}function r(e,t,a,h,l){var d=e[t],o=this;for(var c in"object"==typeof d&&null!=d&&(s(d,"$node",this),s(d,"$render",this.render.bind(this))),Object.defineProperty(this,"ndata",{get:function(){return("object"!=typeof(d=e[t])||Array.isArray(d))&&(d={$$:d}),d}}),this.parent=a,this.key=h||"",this.index=l||-1,this.childNodes=[],this.classes=[],this.el=document.createElement(this.ndata.$tag||("$_"==t.slice(0,2)?"span":"div")),this.texts={},this.ndata){var p=this.ndata[c];if("$"==c[0]){if("$$"==c.slice(0,2))"$$"==c&&Array.isArray(p)?(this.childNodes=p.map((function(e,t){var s=new r(p,String(t),o,i(o.key)+"-item",t);return o.el.appendChild(s.el),s})),s(p,"push",n)):"string"!=typeof p&&"number"!=typeof p||(this.texts[c]=document.createTextNode(p),this.el.appendChild(this.texts[c]));else if("$_"==c.slice(0,2)){var u=new r(this.ndata,c,this,i(c.slice(2)));this.el.appendChild(u.el),this.childNodes.push(u)}}else if("_"==c[0]);else if("on"==c.slice(0,2))!function(e){o.el.addEventListener(c.slice(2),(function(t){e[0].apply(o.ndata,[t].concat(e.slice(1)))}))}(p);else{u=new r(this.ndata,c,this,i(c));this.el.appendChild(u.el),this.childNodes.push(u)}}}t=t||{},r.prototype.render=function(){for(var e in""!=this.el.className&&(this.el.className=""),this.classes=[],this.ndata){var t=this.ndata[e];if("$"==e[0]){if("$$"==e.slice(0,2))"string"!=typeof t&&"number"!=typeof t||(this.texts[e].textContent=t);else if("$class"==e)if(Array.isArray(t))this.classes=t;else for(var s in t)t[s]&&this.classes.push(i(s))}else"_"==e[0]&&this.el.setAttribute(i(e.slice(1)),t)}for(var e in this.key&&this.classes.push(this.key),this.classes)this.el.classList.add(this.classes[e]);for(var e in this.childNodes)this.childNodes[e].render()};var a=new r({data:e},"data",null,"root");return a.render(),document.querySelector(t.el||"body").appendChild(a.el),e}Lightue.for=function(e,t){for(var s=[],i=0;i<e;i++)s.push(t?t(i):"");return s};