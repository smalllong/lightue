function Lightue(a,b={}){function c(a,b,c){Object.defineProperty(a,b,{value:c,enumerable:!1,writable:!0,configurable:!0})}function d(a){return a.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function e(...a){Array.prototype.push.apply(this,a),a.forEach((a,b)=>{var c=new f(this,this.length+b,this.$node,d(this.$node.key)+"-item",this.length+b);c.render(),this.$node.el.appendChild(c.el),this.$node.childNodes.push(c)})}function f(a,b,g=null,h="",j=-1){var k=a[b];for(var l in"object"==typeof k&&null!=k&&(c(k,"$node",this),c(k,"$render",this.render.bind(this))),Object.defineProperty(this,"ndata",{get:()=>(k=a[b],("object"!=typeof k||Array.isArray(k))&&(k={$inner:k}),k)}),this.parent=g,this.key=h,this.index=j,this.childNodes=[],this.classes=new Set,this.el=document.createElement(this.ndata.$tag||"div"),this.ndata){var m=this.ndata[l];if(l.startsWith("$"))"$inner"==l&&Array.isArray(m)&&(this.childNodes=m.map((a,b)=>{var c=new f(m,b,this,d(this.key)+"-item",b);return this.el.appendChild(c.el),c}),c(m,"push",e));else if(l.startsWith("_"));else if(l.startsWith("on"))(a=>{this.el.addEventListener(l.slice(2),b=>{var c=Object.create(b);c.$data=this.ndata,c.$node=this,c.$render=this.render.bind(this),c.$index=this.index,c.$argus=a.slice(1),a[0](c)})})(m);else{var i=new f(this.ndata,l,this,d(l));this.el.appendChild(i.el),this.childNodes.push(i)}}}f.prototype.render=function(){for(var a in this.el.className="",this.classes.clear(),this.ndata){var b=this.ndata[a];if(!a.startsWith("$"))a.startsWith("_")&&this.el.setAttribute(d(a.slice(1)),b);else if("$inner"==a)"string"==typeof b&&(this.el.textContent=b);else if("$class"==a)if(Array.isArray(b))this.classes=new Set(b);else if(b instanceof Set)this.classes=b;else for(var c in b)b[c]&&this.classes.add(d(c))}this.key&&this.classes.add(this.key),this.classes.forEach(a=>this.el.classList.add(a)),this.childNodes.forEach(a=>a.render())};var g=new f({data:a},"data",null,"root");return g.render(),document.querySelector(b.el||"body").appendChild(g.el),a}