function Lightue(t,e){function n(t,e,n){Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0,configurable:!0})}function i(t){return t.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function r(){var t=this.length;Array.prototype.push.apply(this,arguments);for(var e=0;e<arguments.length;e++){var n=new o(this,t+e,this.$node,i(this.$node.key)+"-item");this.$node._addChild(n)}}function s(t,e,n,i,r,s){(s=s||{}).get=s.get||function(t,e){return t[e]},s.set=s.set||function(t,e,n){t[e]=n};var o=Object.getOwnPropertyDescriptor(t,e),a=o&&o.set,u=function(t){s.convert&&(t=s.convert(t)),t!=s.get(n,i)&&(a&&a.call(this,t),s.set(n,i,t))};o&&o.get&&(Lightue._dep={notify:function(){var r=t[e];s.convert&&(r=s.convert(r)),r!=s.get(n,i)&&s.set(n,i,r)}}),u(t[e]),o&&o.get&&(Lightue._dep=null),Object.defineProperty(t,e,{get:o&&o.get||function(){return s.get(n,i)},set:u,enumerable:r||!1,configurable:!0})}function o(t,e,r,a){e=String(e);var u=this,c=this.ndata=t[e];if(this.parent=r,this.key=a||"",this.childNodes=[],this.el=document.createElement(c&&c.$tag||("$_"==e.slice(0,2)?"span":"div")),a&&this.el.classList.add(a),"string"==typeof c||"number"==typeof c)s(t,e,this.el,"textContent",!0);else if(Array.isArray(c))this._setChildren(c);else if("object"==typeof c&&null!=c)for(var l in n(c,"$node",this),"input"!=c.$tag&&"textarea"!=c.$tag||s(c,"$value",this.el,"value"),this.texts={},c){var h=c[l];"$"==l[0]?"$$"==l.slice(0,2)?"$$"==l&&Array.isArray(h)?this._setChildren(h):"$$"==l&&"object"==typeof h?this._addChild(new o(c,l,this,"")):"string"!=typeof h&&"number"!=typeof h||(this.texts[l]=document.createTextNode(h),this.el.appendChild(this.texts[l]),s(c,l,this.texts[l],"textContent",!0)):"$_"==l.slice(0,2)?this._addChild(new o(c,l,this,i(l.slice(2)))):"$class"==l&&Object.keys(h).forEach((function(t){s(h,t,u.el,"classList",!0,{get:function(e,n){return e.classList.contains(i(t))},set:function(e,n,r){e.classList[r?"add":"remove"](i(t))},convert:Boolean})})):"_"==l[0]?s(c,l,this.el,i(l.slice(1)),!0,{get:function(t,e){return t.getAttribute(e)},set:function(t,e,n){t.setAttribute(e,n)}}):"on"==l.slice(0,2)?function(t){u.el.addEventListener(l.slice(2),(function(e){Array.isArray(t)?t[0].apply(u.el,[e].concat(t.slice(1))):t.call(u.el,e)}))}(h):this._addChild(new o(c,l,this,i(l)))}}e=e||{},o.prototype._addChild=function(t){this.el.appendChild(t.el),this.childNodes.push(t)},o.prototype._setChildren=function(t){n(t,"$node",this);var e=this;this.childNodes=t.map((function(n,r){var s=new o(t,r,e,i(e.key)+"-item");return e.el.appendChild(s.el),s})),n(t,"push",r)};var a=new o({data:t},"data",null,"root");return document.querySelector(e.el||"body").appendChild(a.el),t}Lightue._dep=null,Lightue.useState=function(t){var e=JSON.parse(JSON.stringify(t)),n={},i={};return Object.keys(t).forEach((function(e){i[e]=[],n[e]={get:function(){return Lightue._dep&&i[e].push(Lightue._dep),t[e]},set:function(n){t[e]=n,i[e].forEach((function(t){t.notify()}))},enumerable:!0,configurable:!0}})),Object.defineProperties(e,n),e},Lightue.for=function(t,e){for(var n=[],i=0;i<t;i++)n.push(e?e(i):"");return n},function(){var t=["div","span","form","label","input","select","img","button","table","tr","td"];for(var e in t){var n=t[e];Lightue[n]=function(t){return function(e){return"object"==typeof e?(e.$tag=t,e):void 0===e?{$tag:t}:void 0}}(n)}}();