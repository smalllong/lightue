function Lightue(t,e){function i(t,e,i){Object.defineProperty(t,e,{value:i,enumerable:!1,writable:!0,configurable:!0})}function s(t){return t.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function n(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments),e=this.length;for(var i in Array.prototype.push.apply(this,t),t){var n=new a(this,e+i,this.$node,s(this.$node.key)+"-item",this.length+i);n.render(),this.$node.el.appendChild(n.el),this.$node.childNodes.push(n)}}function a(t,e,r,h,l){var d=this;if(this.ndata=t[e],this.parent=r,this.key=h||"",this.index=l||-1,this.childNodes=[],this.classes=[],this.el=document.createElement(this.ndata&&this.ndata.$tag||("$_"==e.slice(0,2)?"span":"div")),"string"==typeof this.ndata||"number"==typeof this.ndata)Object.defineProperty(t,e,{get:function(){return d.el.textContent},set:function(t){d.el.textContent=t},enumerable:!0,configurable:!0}),this.el.textContent=this.ndata;else if(Array.isArray(this.ndata))this.childNodes=this.ndata.map((function(t,e){var i=new a(d.ndata,String(e),d,s(d.key)+"-item",e);return d.el.appendChild(i.el),i})),i(this.ndata,"push",n);else if("object"==typeof this.ndata&&null!=this.ndata)for(var o in i(this.ndata,"$node",this),i(this.ndata,"$render",this.render.bind(this)),"input"!=this.ndata.$tag&&"textarea"!=this.ndata.$tag||Object.defineProperty(this.ndata,"$value",{get:function(){return this.$node.el.value},set:function(t){this.$node.el.value=t},enumerable:!1,configurable:!0}),this.texts={},this.ndata){var c=this.ndata[o];if("$"==o[0]){if("$$"==o.slice(0,2))"$$"==o&&Array.isArray(c)?(this.childNodes=c.map((function(t,e){var i=new a(c,String(e),d,s(d.key)+"-item",e);return d.el.appendChild(i.el),i})),i(c,"push",n)):"string"!=typeof c&&"number"!=typeof c||(this.texts[o]=document.createTextNode(c),this.el.appendChild(this.texts[o]),function(t){Object.defineProperty(d.ndata,t,{get:function(){return d.texts[t].textContent},set:function(e){d.texts[t].textContent=e},enumerable:!0,configurable:!0})}(o));else if("$_"==o.slice(0,2)){var u=new a(this.ndata,o,this,s(o.slice(2)));this.el.appendChild(u.el),this.childNodes.push(u)}}else if("_"==o[0]);else if("on"==o.slice(0,2))!function(t){d.el.addEventListener(o.slice(2),(function(e){Array.isArray(t)?t[0].apply(d.ndata,[e].concat(t.slice(1))):t(e)}))}(c);else{u=new a(this.ndata,o,this,s(o));this.el.appendChild(u.el),this.childNodes.push(u)}}}e=e||{},a.prototype.render=function(){if(""!=this.el.className&&(this.el.className=""),this.classes=[],"object"==typeof this.ndata&&null!=this.ndata)for(var t in this.ndata){var e=this.ndata[t];if("$"==t[0]){if("$$"==t.slice(0,2))"string"!=typeof e&&"number"!=typeof e||(this.texts[t].textContent=e);else if("$class"==t)if(Array.isArray(e))this.classes=e;else for(var i in e)e[i]&&this.classes.push(s(i))}else"_"==t[0]&&this.el.setAttribute(s(t.slice(1)),e)}for(var t in this.key&&this.classes.push(this.key),this.classes)this.el.classList.add(this.classes[t]);for(var t in this.childNodes)this.childNodes[t].render()};var r=new a({data:t},"data",null,"root");return r.render(),document.querySelector(e.el||"body").appendChild(r.el),t}Lightue.for=function(t,e){for(var i=[],s=0;s<t;s++)i.push(e?e(s):"");return i};