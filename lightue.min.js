var Lightue=function(){"use strict";var t=null,e=new WeakMap,r=!1;function n(t,e={}){var r=new o({data:t},"data","root");return document.querySelector(e.el||"body").appendChild(r.el),t}function i(t){return t.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function a(e,n,i,a){var s;null!=e[n]&&("function"==typeof e[n]&&(s=e[n]),function l(o){o&&s&&(t=l),r=!0;var u=s?s():e[n];r=!1,"function"==typeof a?a(i,u):i[a]=u,o&&s&&(t=null)}(!0))}function s(t){return["string","number"].indexOf(typeof t)>-1}function l(t){return"object"==typeof t&&null!=t}function o(t,r,n){this.ndataKey=r=String(r);var u=t[r],c="function"==typeof u?u():u;for(var h in s(c)||Array.isArray(c)||null==c?u={$$:u}:"function"==typeof u&&(u=c),this.key=n||"",this.childArrEls=[],this.childEls={},this.tag=u&&u.$tag||("$_"==r.slice(0,2)?"span":"div"),this.el=document.createElement(this.tag),n&&this.el.classList.add(n),this.texts={},this.el.VNode=this,u){var d=u[h],f=d;"on"!=h.slice(0,2)&&"function"==typeof d&&(f=d()),"$"==h[0]?"$$"==h.slice(0,2)?"$$"==h&&Array.isArray(f)?(this.arrStart=new Comment("arr start"),this.arrEnd=new Comment("arr end"),this.el.appendChild(this.arrStart),this.el.appendChild(this.arrEnd),a(u,h,this.el,(t,n)=>{var a=document.createDocumentFragment(),s=[];Array.isArray(n)?(n.$mappedFrom&&e.set(n.$mappedFrom,this),s=n.map((t,e)=>{var s=new o(n,e,i(r)+"-item");return a.appendChild(s.el)})):s.push(a.appendChild(document.createElement("span"))),this.el.insertBefore(a,this.arrEnd),this.childArrEls.forEach(t=>t.remove()),this.childArrEls=s})):"$$"==h&&l(f)?this._addChild(d,f,u,h):s(f)&&(this.texts[h]=document.createTextNode(f),this.el.appendChild(this.texts[h]),a(u,h,this.texts[h],"textContent")):"$_"==h.slice(0,2)?this.el.appendChild(new o(u,h,i(h.slice(2))).el):"$class"==h?Object.keys(d).forEach(t=>{a(d,t,this.el,(function(e,r){e.classList[r?"add":"remove"](i(t))}))}):"$value"==h&&["input","textarea"].indexOf(this.tag)>-1&&a(u,"$value",this.el,"value"):"_"==h[0]?(t=>{a(u,h,this.el,(function(e,r){null!=r?e.setAttribute(t,r):e.removeAttribute(t)}))})(i(h.slice(1))):"on"==h.slice(0,2)?(t=>{this.el.addEventListener(h.slice(2),e=>{Array.isArray(t)?t[0].apply(this.el,[e].concat(t.slice(1))):t.call(this.el,e)})})(d):this._addChild(d,f,u,h,i(h))}}return n._abortDep=!1,o.prototype._addChild=function(t,e,r,n,i){"function"==typeof t&&l(e)?a(r,n,this.el,(t,e)=>{this.childEls[n]&&this.childEls[n].remove(),setTimeout(()=>{this.childEls[n]=this.el.appendChild(new o(r,n,i).el)})}):this.el.appendChild(new o(r,n,i).el)},n.useState=function(a){if(!l(a)||a._ls)return a;var s,u={},c={};function h(t,e,r){var i=!1;return r&&r._ls?(t[e]=r._target,c[e]=r):(t[e]=r,l(r)?(c[e]=n.useState(r),i=!0):delete c[e]),n._abortDep||(u[e]&&u[e].forEach(t=>t(i)),Array.isArray(t)&&(e=parseInt(e))>=0&&s&&s(r,e)),!0}return Array.isArray(a)?new Proxy(a,{get:function(a,h){if("_ls"==h)return!0;if("_target"==h)return a;if("map"==h&&r)return function(t){var u,h,d,f=a.map((e,r)=>(l(e)&&(c[r]=c[r]||n.useState(e)),t(c[r]||e,r)));return f.$mappedFrom=a,h=(s,u)=>{l(s)&&(c[u]=n.useState(s));var h,d=e.get(a),f={};r=!0,h=t(c[u]||s,u),r=!1,f[u]=h;var p=new o(f,u,i(d.ndataKey)+"-item");d.el.insertBefore(p.el,d.childArrEls[u]||d.arrEnd),d.childArrEls[u]&&d.childArrEls[u].remove(),d.childArrEls.splice(u,1,p.el)},s="function"==typeof(u=s)?function(...t){u.call(this,...t),h.call(this,...t)}:function(...t){d&&d.call(this,...t),h.call(this,...t)},f};if(null!=a[h]&&!a.hasOwnProperty(h))return a[h];u[h]||(u[h]=new Set),t&&u[h].add(t);var d=a[h];return l(d)&&(c[h]=c[h]||n.useState(d)),c[h]||d},set:h}):new Proxy(a,{get:function(e,r){if("_ls"==r)return!0;if("_target"==r)return e;if(null!=e[r]&&!e.hasOwnProperty(r))return"function"==typeof e[r]?e[r].bind(e):e[r];u[r]||(u[r]=new Set),t&&u[r].add(t);var i=e[r];return l(i)&&(c[r]=c[r]||n.useState(i)),c[r]||i},set:h})},n.for=function(t,e){for(var r=[],n=0;n<t;n++)r.push(e?e(n):"");return r},function(){var t=["div","span","form","label","input","select","img","button","table","tr","td"];for(var e in t){var r=t[e];n[r]=function(t){return function(e){return"object"==typeof e?(e.$tag=t,e):void 0===e?{$tag:t}:void 0}}(r)}}(),n}();