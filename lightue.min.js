function Lightue(e,t){function i(e,t,i){Object.defineProperty(e,t,{value:i,enumerable:!1,writable:!0,configurable:!0})}function s(e){return e.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function n(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments),t=this.length;for(var i in Array.prototype.push.apply(this,e),e){e[i];var n=new r(this,t+i,this.$node,s(this.$node.key)+"-item",this.length+i);n.render(),this.$node.el.appendChild(n.el),this.$node.childNodes.push(n)}}function r(e,t,a,h,l){var d=e[t],o=this;for(var c in"object"==typeof d&&null!=d&&(i(d,"$node",this),i(d,"$render",this.render.bind(this))),Object.defineProperty(this,"ndata",{get:function(){return("object"!=typeof(d=e[t])||Array.isArray(d))&&(d={$inner:d}),d}}),this.parent=a,this.key=h||"",this.index=l||-1,this.childNodes=[],this.classes=[],this.el=document.createElement(this.ndata.$tag||"div"),this.ndata){var u=this.ndata[c];if("$"==c[0])"$inner"==c&&Array.isArray(u)&&(this.childNodes=u.map((function(e,t){var i=new r(u,t,o,s(o.key)+"-item",t);return o.el.appendChild(i.el),i})),i(u,"push",n));else if("_"==c[0]);else if("on"==c.slice(0,2))!function(e){o.el.addEventListener(c.slice(2),(function(t){var i=Object.create(t);i.$data=o.ndata,i.$node=o,i.$render=o.render.bind(o),i.$index=o.index,i.$argus=e.slice(1),e[0](i)}))}(u);else{var p=new r(this.ndata,c,this,s(c));this.el.appendChild(p.el),this.childNodes.push(p)}}}t=t||{},r.prototype.render=function(){for(var e in this.el.className="",this.classes=[],this.ndata){var t=this.ndata[e];if("$"==e[0]){if("$inner"==e)"string"==typeof t&&(this.el.textContent=t);else if("$class"==e)if(Array.isArray(t))this.classes=t;else for(var i in t)t[i]&&this.classes.push(s(i))}else"_"==e[0]&&this.el.setAttribute(s(e.slice(1)),t)}for(var e in this.key&&this.classes.push(this.key),this.classes)this.el.classList.add(this.classes[e]);for(var e in this.childNodes)this.childNodes[e].render()};var a=new r({data:e},"data",null,"root");return a.render(),document.querySelector(t.el||"body").appendChild(a.el),e}