function Lightue(t,e){function n(t,e,n){Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!0,configurable:!0})}function i(t){return t.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function s(){var t=this.length;Array.prototype.push.apply(this,arguments);for(var e=0;e<arguments.length;e++){var n=new o(this,t+e,this.$node,i(this.$node.key)+"-item");this.$node._addChild(n)}}function r(t,e,n,i,s,r){(r=r||{}).get=r.get||function(t,e){return t[e]},r.set=r.set||function(t,e,n){t[e]=n};var o=Object.getOwnPropertyDescriptor(t,e),a=o&&o.set,c=function(t){r.convert&&(t=r.convert(t)),t!=r.get(n,i)&&(a&&a.call(this,t),r.set(n,i,t))};o&&o.get&&(Lightue._dep={notify:function(){var s=t[e];r.convert&&(s=r.convert(s)),s!=r.get(n,i)&&r.set(n,i,s)}}),c(t[e]),o&&o.get&&(Lightue._dep=null),Object.defineProperty(t,e,{get:o&&o.get||function(){return r.get(n,i)},set:c,enumerable:s||!1,configurable:!0})}function o(t,e,s,a){e=String(e);var c=this,l=this.ndata=t[e];if(this.parent=s,this.key=a||"",this.childNodes=[],this.classes=[],this.el=document.createElement(l&&l.$tag||("$_"==e.slice(0,2)?"span":"div")),a&&this.el.classList.add(a),"string"==typeof l||"number"==typeof l)r(t,e,this.el,"textContent",!0),this.el.textContent=l;else if(Array.isArray(l))this._setChildren(l);else if("object"==typeof l&&null!=l)for(var u in n(l,"$node",this),"input"!=l.$tag&&"textarea"!=l.$tag||r(l,"$value",this.el,"value"),this.texts={},l){var h=l[u];"$"==u[0]?"$$"==u.slice(0,2)?"$$"==u&&Array.isArray(h)?this._setChildren(h):"string"!=typeof h&&"number"!=typeof h||(this.texts[u]=document.createTextNode(h),this.el.appendChild(this.texts[u]),r(l,u,this.texts[u],"textContent",!0)):"$_"==u.slice(0,2)?this._addChild(new o(l,u,this,i(u.slice(2)))):"$class"==u&&Object.keys(h).forEach((function(t){r(h,t,c.el,"classList",!0,{get:function(e,n){return e.classList.contains(i(t))},set:function(e,n,s){e.classList[s?"add":"remove"](i(t))},convert:Boolean})})):"_"==u[0]?r(l,u,this.el,i(u.slice(1)),!0,{get:function(t,e){return t.getAttribute(e)},set:function(t,e,n){t.setAttribute(e,n)}}):"on"==u.slice(0,2)?function(t){c.el.addEventListener(u.slice(2),(function(e){Array.isArray(t)?t[0].apply(c.ndata,[e].concat(t.slice(1))):t(e)}))}(h):this._addChild(new o(l,u,this,i(u)))}}e=e||{},o.prototype._addChild=function(t){this.el.appendChild(t.el),this.childNodes.push(t)},o.prototype._setChildren=function(t){n(t,"$node",this);var e=this;this.childNodes=t.map((function(n,s){var r=new o(t,s,e,i(e.key)+"-item");return e.el.appendChild(r.el),r})),n(t,"push",s)};var a=new o({data:t},"data",null,"root");return document.querySelector(e.el||"body").appendChild(a.el),t}Lightue._dep=null,Lightue.useState=function(t){var e=JSON.parse(JSON.stringify(t)),n={},i={};return Object.keys(t).forEach((function(e){i[e]=[],n[e]={get:function(){return Lightue._dep&&i[e].push(Lightue._dep),t[e]},set:function(n){t[e]=n,i[e].forEach((function(t){t.notify()}))},enumerable:!0,configurable:!0}})),Object.defineProperties(e,n),e},Lightue.for=function(t,e){for(var n=[],i=0;i<t;i++)n.push(e?e(i):"");return n};